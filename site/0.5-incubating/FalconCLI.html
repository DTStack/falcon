<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-11-30
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20151130" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Falcon - FalconCLI</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                        
                    
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://falcon.incubator.apache.org/index.html" id="bannerLeft">
                                                                                                <img src="images/falcon-logo.png"  alt="Falcon" width="200px" height="45px"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://incubator.apache.org" id="bannerRight">
                                                                                                <img src="images/apache-incubator-logo.png"  alt="Apache Incubator"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="index.html" title="Home">
        Home</a>
        </li>
      <li class="divider ">/</li>
        <li class="">FalconCLI</li>
        
                
                    
      
                                              
    <li class="pull-right">              <a href="http://s.apache.org/falcon-0.5-release-notes" class="externalLink" title="Released: 2014-09-22">
        Released: 2014-09-22</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://archive.apache.org/dist/incubator/falcon/" class="externalLink" title="0.5-incubating">
        0.5-incubating</a>
  </li>

                        </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            <div class="section">
<h2>FalconCLI<a name="FalconCLI"></a></h2>
<p>FalconCLI is a interface between user and Falcon. It is a command line utility provided by Falcon. FalconCLI supports Entity Management, Instance Management and Admin operations.There is a set of web services that are used by FalconCLI to interact with Falcon.</p></div>
<div class="section">
<h3>Entity Management Operations<a name="Entity_Management_Operations"></a></h3></div>
<div class="section">
<h4>Submit<a name="Submit"></a></h4>
<p>Submit option is used to set up entity definition.</p>
<p>Example:  $FALCON_HOME/bin/falcon entity -submit -type cluster -file /cluster/definition.xml</p>
<p>Note: The url option in the above and all subsequent commands is optional. If not mentioned it will be picked from client.properties file. If the option is not provided and also not set in client.properties, Falcon CLI will fail.</p></div>
<div class="section">
<h4>Schedule<a name="Schedule"></a></h4>
<p>Once submitted, an entity can be scheduled using schedule option. Process and feed can only be scheduled.</p>
<p>Usage: $FALCON_HOME/bin/falcon entity  -type [process|feed] -name &lt;&lt;name&gt;&gt; -schedule</p>
<p>Example: $FALCON_HOME/bin/falcon entity  -type process -name sampleProcess -schedule</p></div>
<div class="section">
<h4>Suspend<a name="Suspend"></a></h4>
<p>Suspend on an entity results in suspension of the oozie bundle that was scheduled earlier through the schedule function. No further instances are executed on a suspended entity. Only schedule-able entities(process/feed) can be suspended.</p>
<p>Usage: $FALCON_HOME/bin/falcon entity  -type [feed|process] -name &lt;&lt;name&gt;&gt; -suspend</p></div>
<div class="section">
<h4>Resume<a name="Resume"></a></h4>
<p>Puts a suspended process/feed back to active, which in turn resumes applicable oozie bundle.</p>
<p>Usage:  $FALCON_HOME/bin/falcon entity  -type [feed|process] -name &lt;&lt;name&gt;&gt; -resume</p></div>
<div class="section">
<h4>Delete<a name="Delete"></a></h4>
<p>Delete removes the submitted entity definition for the specified entity and put it into the archive.</p>
<p>Usage: $FALCON_HOME/bin/falcon entity  -type [cluster|feed|process] -name &lt;&lt;name&gt;&gt; -delete</p></div>
<div class="section">
<h4>List<a name="List"></a></h4>
<p>Entities of a particular type can be listed with list sub-command.</p>
<p>Usage: $FALCON_HOME/bin/falcon entity -type [cluster|feed|process] -list</p></div>
<div class="section">
<h4>Update<a name="Update"></a></h4>
<p>Update operation allows an already submitted/scheduled entity to be updated. Cluster update is currently not allowed.</p>
<p>Usage: $FALCON_HOME/bin/falcon entity  -type [feed|process] -name &lt;&lt;name&gt;&gt; -update [-effective &lt;&lt;effective time&gt;&gt;]</p></div>
<div class="section">
<h4>Status<a name="Status"></a></h4>
<p>Status returns the current status of the entity.</p>
<p>Usage: $FALCON_HOME/bin/falcon entity -type [cluster|feed|process] -name &lt;&lt;name&gt;&gt; -status</p></div>
<div class="section">
<h4>Dependency<a name="Dependency"></a></h4>
<p>With the use of dependency option, we can list all the entities on which the specified entity is dependent. For example for a feed, dependency return the cluster name and for process it returns all the input feeds, output feeds and cluster names.</p>
<p>Usage: $FALCON_HOME/bin/falcon entity -type [cluster|feed|process] -name &lt;&lt;name&gt;&gt; -dependency</p></div>
<div class="section">
<h4>Definition<a name="Definition"></a></h4>
<p>Definition option returns the entity definition submitted earlier during submit step.</p>
<p>Usage: $FALCON_HOME/bin/falcon entity -type [cluster|feed|process] -name &lt;&lt;name&gt;&gt; -definition</p></div>
<div class="section">
<h3>Instance Management Options<a name="Instance_Management_Options"></a></h3></div>
<div class="section">
<h4>Kill<a name="Kill"></a></h4>
<p>Kill sub-command is used to kill all the instances of the specified process whose nominal time is between the given start time and end time.</p>
<p>Note:  1. For all the instance management sub-commands, if end time is not specified, Falcon will perform the actions on all the instances whose instance time falls after the start time.</p>
<p>2. The start time and end time needs to be specified in TZ format.  Example:   01 Jan 2012 01:00  =&gt; 2012-01-01T01:00Z</p>
<p>3. Process name is compulsory parameter for each instance management command.</p>
<p>Usage: $FALCON_HOME/bin/falcon instance -type &lt;&lt;feed/process&gt;&gt; -name &lt;&lt;name&gt;&gt; -kill -start &quot;yyyy-MM-dd'T'HH:mm'Z'&quot; -end &quot;yyyy-MM-dd'T'HH:mm'Z'&quot;</p></div>
<div class="section">
<h4>Suspend<a name="Suspend"></a></h4>
<p>Suspend is used to suspend a instance or instances  for the given process. This option pauses the parent workflow at the state, which it was in at the time of execution of this command.</p>
<p>Usage: $FALCON_HOME/bin/falcon instance -type &lt;&lt;feed/process&gt;&gt; -name &lt;&lt;name&gt;&gt; -suspend -start &quot;yyyy-MM-dd'T'HH:mm'Z'&quot; -end &quot;yyyy-MM-dd'T'HH:mm'Z'&quot;</p></div>
<div class="section">
<h4>Continue<a name="Continue"></a></h4>
<p>Continue option is used to continue the failed workflow instance. This option is valid only for process instances in terminal state, i.e. SUCCEDDED, KILLED or FAILED.</p>
<p>Usage: $FALCON_HOME/bin/falcon instance -type &lt;&lt;feed/process&gt;&gt; -name &lt;&lt;name&gt;&gt; -re-run -start &quot;yyyy-MM-dd'T'HH:mm'Z'&quot; -end &quot;yyyy-MM-dd'T'HH:mm'Z'&quot;</p></div>
<div class="section">
<h4>Rerun<a name="Rerun"></a></h4>
<p>Rerun option is used to rerun instances of a given process. This option is valid only for process instances in terminal state, i.e. SUCCEDDED, KILLED or FAILED. Optionally, you can specify the properties to override.</p>
<p>Usage: $FALCON_HOME/bin/falcon instance -type &lt;&lt;feed/process&gt;&gt; -name &lt;&lt;name&gt;&gt; -re-run -start &quot;yyyy-MM-dd'T'HH:mm'Z'&quot; -end &quot;yyyy-MM-dd'T'HH:mm'Z'&quot; [-file &lt;&lt;properties file&gt;&gt;]</p></div>
<div class="section">
<h4>Resume<a name="Resume"></a></h4>
<p>Resume option is used to resume any instance that  is in suspended state.</p>
<p>Usage: $FALCON_HOME/bin/falcon instance -type &lt;&lt;feed/process&gt;&gt; -name &lt;&lt;name&gt;&gt; -resume -start &quot;yyyy-MM-dd'T'HH:mm'Z'&quot; -end &quot;yyyy-MM-dd'T'HH:mm'Z'&quot;</p></div>
<div class="section">
<h4>Status<a name="Status"></a></h4>
<p>Status option via CLI can be used to get the status of a single or multiple instances.  If the instance is not yet materialized but is within the process validity range, WAITING is returned as the state. Along with the status of the instance time is also returned. Log location gives the oozie workflow url If the instance is in WAITING state, missing dependencies are listed</p>
<p>Example : Suppose a process has 3 instance, one has succeeded,one is in running state and other one is waiting, the expected output is:</p>
<p>{&quot;status&quot;:&quot;SUCCEEDED&quot;,&quot;message&quot;:&quot;getStatus is successful&quot;,&quot;instances&quot;:[{&quot;instance&quot;:&quot;2012-05-07T05:02Z&quot;,&quot;status&quot;:&quot;SUCCEEDED&quot;,&quot;logFile&quot;:&quot;http://oozie-dashboard-url&quot;},{&quot;instance&quot;:&quot;2012-05-07T05:07Z&quot;,&quot;status&quot;:&quot;RUNNING&quot;,&quot;logFile&quot;:&quot;http://oozie-dashboard-url&quot;}, {&quot;instance&quot;:&quot;2010-01-02T11:05Z&quot;,&quot;status&quot;:&quot;WAITING&quot;}]</p>
<p>Usage: $FALCON_HOME/bin/falcon instance -type &lt;&lt;feed/process&gt;&gt; -name &lt;&lt;name&gt;&gt; -status -start &quot;yyyy-MM-dd'T'HH:mm'Z'&quot; -end &quot;yyyy-MM-dd'T'HH:mm'Z'&quot;</p></div>
<div class="section">
<h4>Summary<a name="Summary"></a></h4>
<p>Summary option via CLI can be used to get the consolidated status of the instances between the specified time period. Each status along with the corresponding instance count are listed for each of the applicable colos. The unscheduled instances between the specified time period are included as UNSCHEDULED in the output to provide more clarity.</p>
<p>Example : Suppose a process has 3 instance, one has succeeded,one is in running state and other one is waiting, the expected output is:</p>
<p>{&quot;status&quot;:&quot;SUCCEEDED&quot;,&quot;message&quot;:&quot;getSummary is successful&quot;, &quot;cluster&quot;: &lt;&lt;name&gt;&gt; [{&quot;SUCCEEDED&quot;:&quot;1&quot;}, {&quot;WAITING&quot;:&quot;1&quot;}, {&quot;RUNNING&quot;:&quot;1&quot;}]}</p>
<p>Usage: $FALCON_HOME/bin/falcon instance -type &lt;&lt;feed/process&gt;&gt; -name &lt;&lt;name&gt;&gt; -summary -start &quot;yyyy-MM-dd'T'HH:mm'Z'&quot; -end &quot;yyyy-MM-dd'T'HH:mm'Z'&quot;</p></div>
<div class="section">
<h4>Running<a name="Running"></a></h4>
<p>Running option provides all the running instances of the mentioned process.</p>
<p>Usage: $FALCON_HOME/bin/falcon instance -type &lt;&lt;feed/process&gt;&gt; -name &lt;&lt;name&gt;&gt; -running</p></div>
<div class="section">
<h4>Logs<a name="Logs"></a></h4>
<p>Get logs for instance actions</p>
<p>Usage: $FALCON_HOME/bin/falcon instance -type &lt;&lt;feed/process&gt;&gt; -name &lt;&lt;name&gt;&gt; -logs -start &quot;yyyy-MM-dd'T'HH:mm'Z'&quot; [-end &quot;yyyy-MM-dd'T'HH:mm'Z'&quot;] [-runid &lt;&lt;runid&gt;&gt;]</p></div>
<div class="section">
<h3>Graphs Options<a name="Graphs_Options"></a></h3></div>
<div class="section">
<h4>Vertex<a name="Vertex"></a></h4>
<p>Get the vertex with the specified id.</p>
<p>Usage: $FALCON_HOME/bin/falcon graph -vertex -id &lt;&lt;id&gt;&gt;</p>
<p>Example: $FALCON_HOME/bin/falcon graph -vertex -id 4</p></div>
<div class="section">
<h4>Vertices<a name="Vertices"></a></h4>
<p>Get all vertices for a key index given the specified value.</p>
<p>Usage: $FALCON_HOME/bin/falcon graph -vertices -key &lt;&lt;key&gt;&gt; -value &lt;&lt;value&gt;&gt;</p>
<p>Example: $FALCON_HOME/bin/falcon graph -vertices -key type -value feed-instance</p></div>
<div class="section">
<h4>Vertex Edges<a name="Vertex_Edges"></a></h4>
<p>Get the adjacent vertices or edges of the vertex with the specified direction.</p>
<p>Usage: $FALCON_HOME/bin/falcon graph -edges -id &lt;&lt;vertex-id&gt;&gt; -direction &lt;&lt;direction&gt;&gt;</p>
<p>Example: $FALCON_HOME/bin/falcon graph -edges -id 4 -direction both $FALCON_HOME/bin/falcon graph -edges -id 4 -direction inE</p></div>
<div class="section">
<h4>Edge<a name="Edge"></a></h4>
<p>Get the edge with the specified id.</p>
<p>Usage: $FALCON_HOME/bin/falcon graph -edge -id &lt;&lt;id&gt;&gt;</p>
<p>Example: $FALCON_HOME/bin/falcon graph -edge -id Q9n-Q-5g</p></div>
<div class="section">
<h3>Admin Options<a name="Admin_Options"></a></h3></div>
<div class="section">
<h4>Help<a name="Help"></a></h4>
<p>Usage: $FALCON_HOME/bin/falcon admin -help</p></div>
<div class="section">
<h4>Version<a name="Version"></a></h4>
<p>Version returns the current version of Falcon installed. Usage: $FALCON_HOME/bin/falcon admin -version</p></div>
<div class="section">
<h4>Status<a name="Status"></a></h4>
<p>Status returns the current state of Falcon (running or stopped). Usage: $FALCON_HOME/bin/falcon admin -status</p></div>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
              <div class="row span12">Copyright &copy;                    2013-2015
                        <a href="http://www.apache.org">Apache Software Foundation</a>.
            All Rights Reserved.      
                    
      </div>

                          
                <p id="poweredBy" class="pull-right">
                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
              </p>
        
                </div>
    </footer>
  </body>
</html>
